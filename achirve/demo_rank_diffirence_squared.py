# 初期のガントチャートと更新後のガントチャートのデータ
# Machine2のジョブ1の終了時刻が372 → 422に遅延しているガントチャートを取得
# fmt: off
from numpy import ma


init_gantt = [
    [[0, 76, 6], [76, 113, 8], [113, 199, 7], [199, 242, 1], [242, 248, 4], [248, 277, 0], [282, 353, 3], [353, 438, 2], [438, 451, 9],[541, 588, 5],],
    [[0, 46, 6], [46, 127, 3], [127, 129, 5], [129, 198, 8], [199, 245, 7], [245, 336, 2], [336, 421, 9], [421, 443, 4], [443, 521, 0], [635, 663, 1],],
    [[0, 31, 7], [31, 115, 5], [115, 129, 4], [174, 187, 6], [187, 282, 3], [282, 372, 1], [372, 457, 8], [457, 518, 9], [521, 530, 0], [530, 604, 2],],
    [[113, 174, 6], [198, 274, 8], [274, 369, 5], [438, 477, 2], [504, 530, 4], [530, 566, 0], [566, 635, 1], [692, 790, 3], [794, 846, 9], [846, 925, 7],],
]

gantt = [
    [[0, 76, 6], [76, 113, 8], [113, 199, 7], [199, 242, 1], [242, 248, 4], [248, 277, 0], [282, 353, 3], [353, 438, 2], [438, 451, 9],[541, 588, 5],],
    [[0, 46, 6], [46, 127, 3], [127, 129, 5], [129, 198, 8], [199, 245, 7], [245, 336, 2], [336, 421, 9], [421, 443, 4], [443, 521, 0], [635, 663, 1],],
    [[0, 31, 7], [31, 115, 5], [115, 129, 4], [174, 187, 6], [187, 282, 3], [282, 372, 1], [372, 457, 8], [457, 518, 9], [521, 530, 0], [530, 604, 2],],
    [[113, 174, 6], [198, 274, 8], [274, 369, 5], [438, 477, 2], [504, 530, 4], [530, 566, 0], [566, 635, 1], [692, 790, 3], [794, 846, 9], [846, 925, 7],],
]


# gantt = [
#     [[0, 76, 8], [76, 113, 6], [113, 199, 7], [199, 242, 1], [242, 248, 4], [248, 277, 0], [282, 353, 3], [353, 438, 2], [438, 451, 9], [495, 542, 5],],
#     [[0, 46, 6], [46, 127, 3], [127, 129, 5], [129, 198, 8], [199, 245, 7], [245, 336, 2], [336, 421, 9], [421, 443, 4], [443, 521, 0], [683, 711, 1],],
#     [[0, 31, 7], [31, 115, 5], [115, 129, 4], [174, 187, 6], [187, 282, 3], [282, 422, 1], [423, 508, 8], [508, 569, 9], [569, 578, 0], [578, 652, 2],],
#     [[113, 174, 6], [198, 274, 8], [274, 369, 5], [438, 477, 2], [504, 530, 4], [578, 614, 0], [614, 683, 1], [743, 841, 3], [845, 897, 9], [897, 976, 7],],
#     [[319, 351, 7], [423, 498, 1], [498, 597, 3], [597, 666, 4], [666, 715, 0], [715, 741, 8], [741, 747, 5], [747, 802, 6], [897, 987, 9], [1001, 1034, 2],],
#     [[129, 181, 5], [219, 240, 6], [245, 319, 7], [319, 370, 8], [443, 504, 4], [715, 726, 0], [798, 845, 9], [845, 855, 2], [855, 901, 1], [901, 944, 3],],
#     [[187, 219, 6], [351, 439, 7], [520, 560, 8], [569, 576, 9], [597, 606, 3], [606, 671, 5], [726, 788, 0], [788, 834, 1], [867, 956, 2], [956, 1009, 4],],
#     [[361, 391, 6], [560, 649, 8], [658, 743, 3], [743, 792, 4], [792, 828, 7], [828, 853, 5], [855, 867, 2], [867, 923, 0], [923, 995, 1], [995, 1040, 9],],
#     [[272, 361, 6], [369, 417, 5], [439, 458, 7], [606, 658, 3], [658, 722, 9], [722, 743, 4], [743, 833, 2], [833, 907, 8], [923, 967, 0], [995, 1025, 1],],
#     [[240, 272, 6], [423, 495, 5], [498, 509, 1], [509, 520, 8], [520, 568, 7], [722, 798, 9], [798, 870, 4], [870, 892, 3], [956, 1001, 2], [1001, 1022, 0],],
# ]

# fmt: on
# 初期のガントチャートと更新後のガントチャートの開始時刻の差を計算する
diff_gantt = []
starting_time_diviation_sum = 0
rank_diff_squared = 0
# stability_function = 0
reschedule_time = 423
for machine in range(len(gantt)):
    machine_diff = []
    for operation in range(len(gantt[machine])):
        job_number = init_gantt[machine][operation][2]
        for operation2 in range(len(gantt[machine])):
            if job_number == gantt[machine][operation2][2]:
                rank_diff = operation - operation2
                rank_diff_squared += rank_diff**2

# print(diff_gantt)
# print(stability_function)
print(rank_diff_squared)
